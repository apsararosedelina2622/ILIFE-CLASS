<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>

    <div class="container">

        <form class="input-group m-5"  onsubmit="submit_fun(event)">
            <input type="text" class="form-control" id="searchInput">
            <input type="submit" class="btn btn-primary">
        </form>

        <div class="row">
            
        </div>
    </div>

    <script>

        var all_data = [];

        async function fetch_data(){
            const url = await fetch("https://jsonplaceholder.typicode.com/comments")
            // console.log(url)
            all_data = await url.json()
            // console.log(all_data)
            display_fun(all_data)
        }

        fetch_data()

        function display_fun(data){
            // console.log(data)
            var content = ""
            data.map((value) => {
                // console.log(value.name)
                // console.log(value.email)
                content += `
                    <div class="col-lg-3">
                        <div class="card">
                            <div class="card-body">
                                <h5>${value.name}</h5>
                                <p>${value.email}</p>
                                <p>${value.id}</p>
                            </div>
                        </div>
                    </div>
                `
            })
            document.querySelector(".row").innerHTML = content;
        }

        function submit_fun(event){
            event.preventDefault()
            const inputBox = document.getElementById("searchInput").value.toLowerCase();
            // const filterData = all_data.filter(a => console.log(a.name))
            const filterData = all_data.filter(a => a.name.toLowerCase().includes(inputBox) || a.id.includes(inputBox))
            display_fun(filterData)
        }

    </script>
    
</body>
</html>